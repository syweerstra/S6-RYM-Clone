{
  "Routes": [
    //UserService
    {
      "DownstreamPathTemplate": "/user/{everything}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "userservice",
          "Port": 80
        }
      ],
      "UpstreamPathTemplate": "/api/user/{everything}",
      "Key": "UserDownroute",
      "DangerousAcceptAnyServerCertificateValidator": true,
      "Priority": 0
      //"AddHeadersToRequest": {
      //  "Username": "Claims[Username] > value[0]"
      //}
      // "UpstreamHttpMethod": [ "Get" ]
    },

    {
      "DownstreamPathTemplate": "/user/rate",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "userservice",
          "Port": 80
        }
      ],
      "UpstreamPathTemplate": "/api/user/rate",
      "Key": "UserDownroute",
      "DangerousAcceptAnyServerCertificateValidator": true,
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "TestKey",
        "AllowedScopes": []
      },
      "UpstreamHttpMethod": [ "Post" ],
      "AddQueriesToRequest": {
        "UserID": "Claims[userId] > value[0]"
      },
      "AddHeadersToRequest": {
        "UserID": "Claims[userId] > value[0]",
        "Username": "Claims[Username] > value[0]"
      },
      "Priority": 1
    },

    //MusicService
    {
      "DownstreamPathTemplate": "/music/{everything}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "musicservice",
          "Port": 80
        }
      ],
      "UpstreamPathTemplate": "/api/music/{everything}",
      "Key": "AlbumDownroute",
      "DangerousAcceptAnyServerCertificateValidator": true
      // "UpstreamHttpMethod": [ "Get" ]
    },
    //ArtistService
    {
      "DownstreamPathTemplate": "/artist/{everything}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "artistservice",
          "Port": 80
        }
      ],
      "UpstreamPathTemplate": "/api/artist/{everything}",
      "Key": "ArtistDownroute",
      "DangerousAcceptAnyServerCertificateValidator": true
      // "UpstreamHttpMethod": [ "Get" ]
    },
    //AuthService
    {
      "DownstreamPathTemplate": "/auth/{everything}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "authservice",
          "Port": 80
        }
      ],
      "UpstreamPathTemplate": "/api/auth/{everything}",
      "Key": "AuthDownroute",
      "DangerousAcceptAnyServerCertificateValidator": true
    }
  ],
  "GlobalConfiguration": {
      "BaseUrl": "https://localhost:5000"
  }
}
